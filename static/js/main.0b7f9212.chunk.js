(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(t,e,a){t.exports=a(199)},111:function(t,e,a){},112:function(t,e,a){},199:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(8),l=a.n(o),r=(a(111),a(19)),s=a(41),c=a(27),d=a(74),u=a(75),p=a(11),m=a(92),h=a(251),g=(a(112),a(253)),f=a(90),b=function(t){return Object(f.a)({palette:{primary:{main:"#4fc3f7"},secondary:{main:"#f06292"},type:t}})},E=new(a(76).a)("TodoLists");E.version(1).stores({todoLists:"++id, isDone"});var k=E,v=a(78),O=a(239),y=a(240),C=a(242),w=a(243),j=a(241),I=a(80),x=a.n(I),D=a(81),L=a.n(D),S=a(77),T=a.n(S),B=Object(v.a)(function(t){return{root:{display:"flex",alignItems:"center",width:"85%",flexGrow:1,overflow:"hidden",margin:"".concat(t.spacing(1),"px auto"),padding:t.spacing(1)},card:{width:"100%",paddingTop:t.spacing(1),paddingBottom:t.spacing(0),paddingLeft:t.spacing(1),paddingRight:t.spacing(1)},toolButtons:{paddingBottom:t.spacing(1),marginLeft:"auto"},content:{paddingTop:t.spacing(1),paddingBottom:t.spacing(1),paddingLeft:t.spacing(2),paddingRight:t.spacing(2)}}}),N=function(t){var e=t.taskString,a=t.handleDoneClick,n=t.handleEditClick,o=B();return i.a.createElement("div",{className:o.root},i.a.createElement(O.a,{className:o.card},i.a.createElement(y.a,{className:o.content},i.a.createElement("div",{style:{wordWrap:"break-word"}},i.a.createElement(T.a,{source:e}))),i.a.createElement(j.a,null,i.a.createElement(C.a,{disableSpacing:!0,style:{padding:"0px"}},i.a.createElement("div",{className:o.toolButtons},i.a.createElement(w.a,{"aria-label":"todo done",onClick:a},i.a.createElement(x.a,{fontSize:"small"})),i.a.createElement(w.a,{id:"editButton","aria-label":"Edit",onClick:n},i.a.createElement(L.a,{fontSize:"small"})))))))},A=a(91),P=a(10),R=a(246),H=a(247),M=a(201),z=a(245),F=a(20),G=a(84),J=a.n(G),W=a(248),K=a(244),U=a(85),q=a.n(U);function Q(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}var V=Object(v.a)(function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:Object(P.a)({flexGrow:1},t.breakpoints.up("sm"),{display:"block"}),search:Object(P.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(F.b)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(F.b)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"}),searchIcon:{width:t.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(P.a)({padding:t.spacing(1,1,1,7),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),list:{width:250},fullList:{width:"auto"}}}),X=function(t){var e,a=t.handleChangeTheme,n=V(),o=i.a.useState({top:!1,left:!1,bottom:!1,right:!1}),l=Object(A.a)(o,2),r=l[0],s=l[1],c=function(t,e){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&s(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Q(a,!0).forEach(function(e){Object(P.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Q(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}({},r,Object(P.a)({},t,e)))}};return i.a.createElement("div",{className:n.root,style:{paddingTop:56}},i.a.createElement(R.a,{position:"static",style:{position:"fixed",top:0}},i.a.createElement(H.a,null,i.a.createElement(w.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"open drawer",onClick:c("left",!0)},i.a.createElement(J.a,null)),i.a.createElement(M.a,{className:n.title,variant:"h6"},"Todo Memo"),i.a.createElement(w.a,{color:"inherit",onClick:a},i.a.createElement(q.a,null)),i.a.createElement(W.a,{open:r.left,onClose:c("left",!1)},(e="left",i.a.createElement("div",{className:n.list,role:"presentation",onClick:c(e,!1),onKeyDown:c(e,!1)},i.a.createElement(K.a,null),i.a.createElement(M.a,{variant:"body2",display:"block",style:{margin:0,top:"auto",left:60,bottom:30,right:"auto",position:"fixed"}},"DevelopedBy",i.a.createElement(z.a,{href:"https://twitter.com/polyiz"},"@polyiz"))))))))},Y=a(249),Z=a(86),$=a.n(Z),_=Object(v.a)(function(t){return{fab:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},DoneIcon:{marginRight:t.spacing(1),marginBottom:t.spacing(1)},grid:{alignItems:"flex-end",justifyContent:"flex-end"}}}),tt=function(t){var e=t.handleDialogOpen,a=_();return i.a.createElement(j.a,{container:!0,className:a.grid},i.a.createElement(Y.a,{color:"secondary","aria-label":"add",className:a.fab,onClick:e},i.a.createElement($.a,null)))},et=a(250),at=a(87),nt=a.n(at),it=a(202),ot=a(252),lt=a(88),rt=a.n(lt),st=Object(v.a)(function(t){return{appBar:{position:"relative"},title:{marginLeft:t.spacing(2),flex:1},textField:{display:"flex",alignItems:"center",width:"90%",margin:"".concat(t.spacing(2),"px auto"),padding:t.spacing(2)}}}),ct=i.a.forwardRef(function(t,e){return i.a.createElement(it.a,Object.assign({direction:"up",ref:e},t))}),dt=function(t){var e=t.onSaveClick,a=t.isOpen,n=t.handleClose,o=t.onInputChange,l=t.textInput,r=st();return i.a.createElement("div",null,i.a.createElement(et.a,{fullScreen:!0,open:a,onClose:n,TransitionComponent:ct},i.a.createElement(R.a,{className:r.appBar},i.a.createElement(H.a,null,i.a.createElement(w.a,{edge:"start",color:"inherit",onClick:n,"aria-label":"close"},i.a.createElement(nt.a,null)),i.a.createElement(M.a,{variant:"h6",className:r.title},"Edit Memo"),i.a.createElement(w.a,{color:"inherit",onClick:e},i.a.createElement(rt.a,null)))),i.a.createElement(ot.a,{variant:"outlined",multiline:!0,rows:"10",rowsMax:"40",id:"todoInputBox",placeholder:"Markdown is supported.",className:r.textField,onChange:o,value:l,fullWidth:!0,margin:"normal"})))},ut=a(48),pt=a(254),mt=a(89),ht=a.n(mt),gt=Object(v.a)(function(t){return{root:{display:"flex",alignItems:"center",margin:"".concat(t.spacing(4),"px auto"),width:"85%",padding:t.spacing(1)},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}}}),ft=function(t){var e=t.onAddClick,a=t.onInputChange,n=t.textInput,o=gt();return i.a.createElement(ut.a,{className:o.root},i.a.createElement(pt.a,{id:"taskInputBox",multiline:!0,className:o.input,placeholder:"Input todo or memo!",onChange:a,value:n}),i.a.createElement(K.a,{className:o.divider}),i.a.createElement(w.a,{color:"primary",className:o.iconButton,"aria-label":"Directions",onClick:e},i.a.createElement(ht.a,null)))},bt=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(d.a)(this,Object(u.a)(e).call(this,t))).state={input:"",todoLists:[],dialogOpen:!1,editId:!1,theme:"light"},a.onAddClick=a.onAddClick.bind(Object(p.a)(a)),a.onInputChange=a.onInputChange.bind(Object(p.a)(a)),a.onDeleteTask=a.onDeleteTask.bind(Object(p.a)(a)),a.onEditTask=a.onEditTask.bind(Object(p.a)(a)),a.onHandleDialog=a.onHandleDialog.bind(Object(p.a)(a)),a.onChangeTheme=a.onChangeTheme.bind(Object(p.a)(a)),a}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;k.table("todoLists").where({isDone:0}).toArray().then(function(e){t.setState({todoLists:e})})}},{key:"componentDidUpdate",value:function(t,e){var a=this;this.state.editId!==e.editId&&k.table("todoLists").where({isDone:0}).toArray().then(function(t){a.setState({todoLists:t})})}},{key:"onAddClick",value:function(){var t=this;if(this.state.input&&!this.state.editId){var e={title:this.state.input};k.table("todoLists").add({todo:e,isDone:0}).then(function(a){var n=[].concat(Object(r.a)(t.state.todoLists),[Object.assign({},{todo:e},{id:a})]);t.setState({todoLists:n,input:"",dialogOpen:!1})})}if(this.state.editId){var a={title:this.state.input};k.table("todoLists").update(this.state.editId,{todo:a});var n=Object(r.a)(this.state.todoLists);this.setState({todoLists:n,input:"",dialogOpen:!1,editId:!1})}}},{key:"onEditTask",value:function(t){var e=this;k.table("todoLists").where({id:t}).toArray().then(function(a){var n=a[0].todo.title;e.setState({dialogOpen:!0,input:n,editId:t})})}},{key:"onInputChange",value:function(t){this.setState({input:t.target.value})}},{key:"onDeleteTask",value:function(t){var e=this;this.setState({tasks:this.state.todoLists.splice(t,1)}),k.table("todoLists").update(t,{isDone:1}).then(function(){var a=e.state.todoLists.filter(function(e){return e.id!==t});e.setState({todoLists:a})})}},{key:"onHandleDialog",value:function(){this.setState({dialogOpen:!this.state.dialogOpen,input:"",editId:!1})}},{key:"onChangeTheme",value:function(){var t;t="light"===this.state.theme?"dark":"light",this.setState({theme:t})}},{key:"render",value:function(){var t=this,e=this.state,a=e.todoLists,n=e.theme;return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{theme:b(n)},i.a.createElement(h.a,null,i.a.createElement(X,{handleChangeTheme:this.onChangeTheme}),i.a.createElement(ft,{onAddClick:this.onAddClick,onInputChange:this.onInputChange,textInput:this.state.input}),a.map(function(e){return i.a.createElement(N,{key:e.id,taskString:e.todo.title,handleDoneClick:function(){t.onDeleteTask(e.id)},handleEditClick:function(){t.onEditTask(e.id)}})}),i.a.createElement(tt,{handleDialogOpen:this.onHandleDialog}),i.a.createElement(dt,{handleClose:this.onHandleDialog,isOpen:this.state.dialogOpen,onSaveClick:this.onAddClick,onInputChange:this.onInputChange,textInput:this.state.input}))))}}]),e}(n.Component);l.a.render(i.a.createElement(bt,null),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.0b7f9212.chunk.js.map